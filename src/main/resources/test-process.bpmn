<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
             xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jmix="http://jmix.io/schema/bpm/bpmn"
             targetNamespace="http://www.flowable.org/processdef"
             xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd">
    <collaboration id="Collaboration_1bbh5o0">
        <participant id="Participant_0igivub" name="test-process" processRef="ApprovalProcess"/>
    </collaboration>
    <process id="ApprovalProcess" name="Quy trình phê duyệt nghỉ phép" isExecutable="true"
             camunda:historyTimeToLive="P30D">
        <exclusiveGateway id="Gateway_1q6nz6y" default="Flow_1ipgajj">
            <incoming>Flow_1jo4z3k</incoming>
            <outgoing>Flow_0tqkfnx</outgoing>
            <outgoing>Flow_1ipgajj</outgoing>
        </exclusiveGateway>
        <businessRuleTask id="Activity_CheckValidation" name="Check validation via DMN" camunda:resultVariable="isValid"
                          camunda:decisionRef="LeaveValidationDecision" camunda:mapDecisionResult="singleEntry"/>
        <sequenceFlow id="Flow_0tqkfnx" name="ok" sourceRef="Gateway_1q6nz6y" targetRef="Activity_00l1sks">
            <conditionExpression xsi:type="tFormalExpression">
                ${isValid}
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="Activity_00l1sks" name="Identify those who agree"
                     camunda:class="com.vn.workflow.delegate.test.IdentifyAgreementDelegate">
            <incoming>Flow_0tqkfnx</incoming>
            <outgoing>Flow_0433oyg</outgoing>
        </serviceTask>
        <userTask id="Activity_0ld5qyb" name="Agree on the validation">
            <incoming>Flow_0433oyg</incoming>
            <outgoing>Flow_0xo7xjb</outgoing>
        </userTask>
        <sequenceFlow id="Flow_1ipgajj" sourceRef="Gateway_1q6nz6y" targetRef="Activity_13wlxz0"/>
        <sequenceFlow id="Flow_1azyuro" sourceRef="Activity_13wlxz0" targetRef="Event_1kf6470"/>
        <sequenceFlow id="Flow_0433oyg" sourceRef="Activity_00l1sks" targetRef="Activity_0ld5qyb"/>
        <sequenceFlow id="Flow_0xo7xjb" sourceRef="Activity_0ld5qyb" targetRef="Gateway_0401a4z"/>
        <sequenceFlow id="Flow_03s9p77" sourceRef="Activity_0wtkhd9" targetRef="Event_1caxp89"/>
        <sequenceFlow id="Flow_1nvupqu" sourceRef="Event_0g7123c" targetRef="Activity_1b4sri5"/>
        <sequenceFlow id="Flow_0ebxq3b" sourceRef="Activity_1b4sri5" targetRef="Activity_CheckValidation"/>
        <sequenceFlow id="Flow_1jo4z3k" sourceRef="Activity_CheckValidation" targetRef="Gateway_1q6nz6y"/>
        <serviceTask id="Activity_13wlxz0" name="Notify about the impossibility of going on vacation"
                     camunda:class="com.vn.workflow.delegate.test.NotifyImpossibilityDelegate">
            <incoming>Flow_1ipgajj</incoming>
            <incoming>Flow_0ajxmyv</incoming>
            <outgoing>Flow_1azyuro</outgoing>
        </serviceTask>
        <sequenceFlow id="Flow_16l5kty" name="agree" sourceRef="Gateway_0401a4z" targetRef="Activity_0wtkhd9">
            <conditionExpression xsi:type="tFormalExpression">
                ${approvers == true}
            </conditionExpression>
        </sequenceFlow>
        <exclusiveGateway id="Gateway_0401a4z">
            <incoming>Flow_0xo7xjb</incoming>
            <outgoing>Flow_16l5kty</outgoing>
            <outgoing>Flow_0ajxmyv</outgoing>
        </exclusiveGateway>
        <sequenceFlow id="Flow_0ajxmyv" name="reject" sourceRef="Gateway_0401a4z" targetRef="Activity_13wlxz0">
            <conditionExpression xsi:type="tFormalExpression">
                ${approvers != true}
            </conditionExpression>
        </sequenceFlow>
        <endEvent id="Event_1kf6470">
            <incoming>Flow_1azyuro</incoming>
        </endEvent>
        <serviceTask id="Activity_0wtkhd9" name="Transfer data to HR"
                     camunda:class="com.vn.workflow.delegate.test.TransferToHrDelegate">
            <incoming>Flow_16l5kty</incoming>
            <outgoing>Flow_03s9p77</outgoing>
        </serviceTask>
        <endEvent id="Event_1caxp89">
            <incoming>Flow_03s9p77</incoming>
        </endEvent>
        <serviceTask id="Activity_1b4sri5" name="Init order"
                     camunda:class="com.vn.workflow.delegate.test.InitOrderDelegate">
            <incoming>Flow_1nvupqu</incoming>
            <outgoing>Flow_0ebxq3b</outgoing>
        </serviceTask>
        <startEvent id="Event_0g7123c">
            <outgoing>Flow_1nvupqu</outgoing>
        </startEvent>
    </process>
    <bpmndi:BPMNDiagram id="BPMNDiagram_process">
        <bpmndi:BPMNPlane id="BPMNPlane_process" bpmnElement="Collaboration_1bbh5o0">
            <bpmndi:BPMNShape id="Participant_0igivub_di" bpmnElement="Participant_0igivub" isHorizontal="true">
                <omgdc:Bounds x="10" y="100" width="1348" height="250"/>
                <bpmndi:BPMNLabel/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Gateway_1q6nz6y_di" bpmnElement="Gateway_1q6nz6y" isMarkerVisible="true">
                <omgdc:Bounds x="475" y="195" width="50" height="50"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Activity_117zb17_di" bpmnElement="Activity_00l1sks">
                <omgdc:Bounds x="580" y="130" width="100" height="80"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Activity_0ddgr9x_di" bpmnElement="Activity_0ld5qyb">
                <omgdc:Bounds x="750" y="130" width="100" height="80"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Activity_1djc0wp_di" bpmnElement="Activity_13wlxz0">
                <omgdc:Bounds x="580" y="250" width="100" height="80"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Gateway_0401a4z_di" bpmnElement="Gateway_0401a4z" isMarkerVisible="true">
                <omgdc:Bounds x="915" y="145" width="50" height="50"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Event_1kf6470_di" bpmnElement="Event_1kf6470">
                <omgdc:Bounds x="762" y="272" width="36" height="36"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Activity_01c2si3_di" bpmnElement="Activity_0wtkhd9">
                <omgdc:Bounds x="1060" y="130" width="100" height="80"/>
                <bpmndi:BPMNLabel/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Event_1caxp89_di" bpmnElement="Event_1caxp89">
                <omgdc:Bounds x="1222" y="152" width="36" height="36"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Activity_1xp8mgb_di" bpmnElement="Activity_1b4sri5">
                <omgdc:Bounds x="240" y="170" width="100" height="80"/>
                <bpmndi:BPMNLabel/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Event_0g7123c_di" bpmnElement="Event_0g7123c">
                <omgdc:Bounds x="82" y="192" width="36" height="36"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="Flow_0tqkfnx_di" bpmnElement="Flow_0tqkfnx">
                <di:waypoint x="500" y="195"/>
                <di:waypoint x="500" y="170"/>
                <di:waypoint x="580" y="170"/>
                <bpmndi:BPMNLabel>
                    <omgdc:Bounds x="513" y="153" width="13" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_1ipgajj_di" bpmnElement="Flow_1ipgajj">
                <di:waypoint x="500" y="245"/>
                <di:waypoint x="500" y="290"/>
                <di:waypoint x="580" y="290"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_1azyuro_di" bpmnElement="Flow_1azyuro">
                <di:waypoint x="680" y="290"/>
                <di:waypoint x="762" y="290"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_0433oyg_di" bpmnElement="Flow_0433oyg">
                <di:waypoint x="680" y="170"/>
                <di:waypoint x="750" y="170"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_0xo7xjb_di" bpmnElement="Flow_0xo7xjb">
                <di:waypoint x="850" y="170"/>
                <di:waypoint x="915" y="170"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_03s9p77_di" bpmnElement="Flow_03s9p77">
                <di:waypoint x="1160" y="170"/>
                <di:waypoint x="1222" y="170"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_1nvupqu_di" bpmnElement="Flow_1nvupqu">
                <di:waypoint x="118" y="210"/>
                <di:waypoint x="240" y="210"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_16l5kty_di" bpmnElement="Flow_16l5kty">
                <di:waypoint x="965" y="170"/>
                <di:waypoint x="1060" y="170"/>
                <bpmndi:BPMNLabel>
                    <omgdc:Bounds x="1006" y="152" width="13" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_0ajxmyv_di" bpmnElement="Flow_0ajxmyv">
                <di:waypoint x="940" y="195"/>
                <di:waypoint x="940" y="320"/>
                <di:waypoint x="680" y="320"/>
                <bpmndi:BPMNLabel>
                    <omgdc:Bounds x="896" y="255" width="28" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNEdge>
        </bpmndi:BPMNPlane>
    </bpmndi:BPMNDiagram>
</definitions>
